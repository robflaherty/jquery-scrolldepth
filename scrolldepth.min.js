/*!
 * @preserve
 * jquery.scrolldepth.js | v0.8
 * Copyright (c) 2015 Rob Flaherty (@robflaherty)
 * Licensed under the MIT and GPL licenses.
 */
!function(e,t,n){"use strict";function r(){for(var e=1;e<arguments.length;e++)for(var t in arguments[e])arguments[e].hasOwnProperty(t)&&(arguments[0][t]=arguments[e][t]);return arguments[0]}function o(){return Math.max(t.documentElement.scrollHeight,t.body.scrollHeight,t.documentElement.offsetHeight,t.body.offsetHeight,t.documentElement.clientHeight)}function i(){return e.innerHeight||t.documentElement.clientHeight||t.body.clientHeight}function a(){return e.pageYOffset||("CSS1Compat"===t.compatMode?t.documentElement.scrollTop:t.body.scrollTop)}function l(e){return e.getBoundingClientRect().top+a()}function c(r){return"undefined"!=typeof e.jQuery?e.jQuery(r).get(0):"undefined"!=typeof t.querySelector?t.querySelector(r):"#"==r.charAt(0)?t.getElementById(r.substr(1)):n}var u,p,s,g,v={minHeight:0,elements:[],percentage:!0,userTiming:!0,pixelDepth:!0,nonInteraction:!0,gaGlobal:!1,gtmOverride:!1},h=[],f=0;!function(){if(!Element.prototype.addEventListener){var e=[],t=function(t,n){var r=this,o=function(e){e.target=e.srcElement,e.currentTarget=r,n.handleEvent?n.handleEvent(e):n.call(r,e)};this.attachEvent("on"+t,o),e.push({object:this,type:t,listener:n,wrapper:o})},n=function(t,n){for(var r=0;r<e.length;){var o=e[r];if(o.object==this&&o.type==t&&o.listener==n){this.detachEvent("on"+t,o.wrapper),e.splice(r,1);break}++r}};Element.prototype.addEventListener=t,Element.prototype.removeEventListener=n,HTMLDocument&&(HTMLDocument.prototype.addEventListener=t,HTMLDocument.prototype.removeEventListener=n),Window&&(Window.prototype.addEventListener=t,Window.prototype.removeEventListener=n)}}();var m=function(t){function n(t){g?g({event:"ScrollDistance",eventCategory:"Scroll Depth",eventAction:t,eventLabel:"Baseline",eventValue:1,eventNonInteraction:!0}):(u&&e[s]("send","event","Scroll Depth",t,"Baseline",1,{nonInteraction:!0}),p&&_gaq.push(["_trackEvent","Scroll Depth",t,"Baseline",1,!0]))}function m(n,r,o,i){g?(g({event:"ScrollDistance",eventCategory:"Scroll Depth",eventAction:n,eventLabel:r,eventValue:1,eventNonInteraction:t.nonInteraction}),t.pixelDepth&&arguments.length>2&&o>f&&(f=o,g({event:"ScrollDistance",eventCategory:"Scroll Depth",eventAction:"Pixel Depth",eventLabel:E(o),eventValue:1,eventNonInteraction:t.nonInteraction})),t.userTiming&&arguments.length>3&&g({event:"ScrollTiming",eventCategory:"Scroll Depth",eventAction:n,eventLabel:r,eventTiming:i})):(u&&(e[s]("send","event","Scroll Depth",n,r,1,{nonInteraction:t.nonInteraction}),t.pixelDepth&&arguments.length>2&&o>f&&(f=o,e[s]("send","event","Scroll Depth","Pixel Depth",E(o),1,{nonInteraction:t.nonInteraction})),t.userTiming&&arguments.length>3&&e[s]("send","timing","Scroll Depth",n,i,r)),p&&(_gaq.push(["_trackEvent","Scroll Depth",n,r,1,t.nonInteraction]),t.pixelDepth&&arguments.length>2&&o>f&&(f=o,_gaq.push(["_trackEvent","Scroll Depth","Pixel Depth",E(o),1,t.nonInteraction])),t.userTiming&&arguments.length>3&&_gaq.push(["_trackTiming","Scroll Depth",n,i,r,100])))}function d(e){return{"25%":parseInt(.25*e,10),"50%":parseInt(.5*e,10),"75%":parseInt(.75*e,10),"100%":e-5}}function y(e,t,n){for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];-1===h.indexOf(r)&&t>=o&&(m("Percentage",r,t,n),h.push(r))}}function D(e,t,n){for(var r=0;r<e.length;r++){var o=e[r];if(-1===h.indexOf(o)){var i="string"==typeof o?c(o):o;if(i){var a=l(i);t>=a&&(m("Elements",o,t,n),h.push(o))}}}}function E(e){return(250*Math.floor(e/250)).toString()}function S(e,t){var n,r,o,i=null,a=0,l=function(){a=new Date,i=null,o=e.apply(n,r)};return function(){var c=new Date;a||(a=c);var u=t-(c-a);return n=this,r=arguments,0>=u?(clearTimeout(i),i=null,a=c,o=e.apply(n,r)):i||(i=setTimeout(l,u)),o}}var L=+new Date;if(t=r({},v,t),!(o()<t.minHeight)){t.gaGlobal?(u=!0,s=t.gaGlobal):"function"==typeof ga?(u=!0,s="ga"):"function"==typeof __gaTracker&&(u=!0,s="__gaTracker"),"undefined"!=typeof _gaq&&"function"==typeof _gaq.push&&(p=!0),"function"==typeof t.eventHandler?g=t.eventHandler:"undefined"==typeof dataLayer||"function"!=typeof dataLayer.push||t.gtmOverride||(g=function(e){dataLayer.push(e)}),t.percentage?n("Percentage"):t.elements&&n("Elements");var I=S(function(){var n=o(),r=i(),l=a()+r,c=d(n),u=+new Date-L;return h.length>=4+t.elements.length?void e.removeEventListener("scroll",I):(t.elements&&D(t.elements,l,u),void(t.percentage&&y(c,l,u)))},500);e.addEventListener("scroll",I,!1)}};e.scrollDepth={init:m},"undefined"!=typeof e.jQuery&&(e.jQuery.scrollDepth=m)}(window,document);