/*!
 * @preserve
 * jquery.scrolldepth.js | v0.7.1
 * Copyright (c) 2014 Rob Flaherty (@robflaherty)
 * Licensed under the MIT and GPL licenses.
 */
!function(e,n,t,a){"use strict";var r,o,i,l={minHeight:0,elements:[],percentage:!0,userTiming:!0,pixelDepth:!0,nonInteraction:!0},c=e(n),u=[],g=0,s="function",h="undefined",p="Scroll Depth",v="scroll.scrollDepth",f="Baseline",m="Pixel Depth",y="ScrollDistance",D="Percentage",I="Elements",d="_trackEvent",T="send",_="event";e.scrollDepth=function(L){function x(e){i?i({event:y,eventCategory:p,eventAction:e,eventLabel:f,eventValue:1,eventNonInteraction:!0}):(r&&ga(T,_,p,e,f,1,{nonInteraction:!0}),o&&_gaq.push([d,p,e,f,1,!0]))}function q(e,n,t,a){i?(i({event:y,eventCategory:p,eventAction:e,eventLabel:n,eventValue:1,eventNonInteraction:L.nonInteraction}),L.pixelDepth&&arguments.length>2&&t>g&&(g=t,i({event:y,eventCategory:p,eventAction:m,eventLabel:S(t),eventValue:1,eventNonInteraction:L.nonInteraction})),L.userTiming&&arguments.length>3&&i({event:"ScrollTiming",eventCategory:p,eventAction:e,eventLabel:n,eventTiming:a})):(r&&(ga(T,_,p,e,n,1,{nonInteraction:L.nonInteraction}),L.pixelDepth&&arguments.length>2&&t>g&&(g=t,ga(T,_,p,m,S(t),1,{nonInteraction:L.nonInteraction})),L.userTiming&&arguments.length>3&&ga(T,"timing",p,e,a,n)),o&&(_gaq.push([d,p,e,n,1,L.nonInteraction]),L.pixelDepth&&arguments.length>2&&t>g&&(g=t,_gaq.push([d,p,m,S(t),1,L.nonInteraction])),L.userTiming&&arguments.length>3&&_gaq.push(["_trackTiming",p,e,a,n,100])))}function w(e){return{"25%":parseInt(.25*e,10),"50%":parseInt(.5*e,10),"75%":parseInt(.75*e,10),"100%":e-5}}function A(n,t,a){e.each(n,function(n,r){-1!==e.inArray(n,u)||r>t||(q(D,n,t,a),u.push(n))})}function H(n,t,a){e.each(n,function(n,r){-1===e.inArray(r,u)&&e(r).length&&(t<e(r).offset().top||(q(I,r,t,a),u.push(r)))})}function S(e){return""+250*Math.floor(e/250)}function b(e,n){var t,a,r,o=null,i=0,l=function(){i=new Date,o=null,r=e.apply(t,a)};return function(){var c=new Date;i||(i=c);var u=n-c+i;return t=this,a=arguments,u>0?o||(o=setTimeout(l,u)):(clearTimeout(o),o=null,i=c,r=e.apply(t,a)),r}}var C=+new Date;L=e.extend({},l,L),e(t).height()<L.minHeight||(typeof ga===s&&(r=!0),typeof _gaq!==h&&typeof _gaq.push===s&&(o=!0),typeof L.eventHandler===s?i=L.eventHandler:typeof dataLayer!==h&&typeof dataLayer.push===s&&(i=dataLayer.push),L.percentage?x(D):L.elements&&x(I),c.on(v,b(function(){var r=e(t).height(),o=n.innerHeight?n.innerHeight:c.height(),i=c.scrollTop()+o,l=w(r),g=+new Date-C;return u.length<4+L.elements.length?(L.elements&&H(L.elements,i,g),L.percentage&&A(l,i,g),a):(c.off(v),a)},500)))}}(jQuery,window,document);