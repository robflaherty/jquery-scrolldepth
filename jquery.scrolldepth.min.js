/*!
 * @preserve
 * jquery.scrolldepth.js | v0.5
 * Copyright (c) 2014 Rob Flaherty (@robflaherty)
 * Licensed under the MIT and GPL licenses.
 */
!function(e,t,n){"use strict";var a,r,i,l={minHeight:0,elements:[],percentage:!0,userTiming:!0,pixelDepth:!0,trackHidden:!1},o=e(t),c=[],u=0;e.scrollDepth=function(h){function g(e,t,n,l){i?(dataLayer.push({event:"ScrollDistance",eventCategory:"Scroll Depth",eventAction:e,eventLabel:t,eventValue:1,eventNonInteraction:!0}),h.pixelDepth&&arguments.length>2&&n>u&&(u=n,dataLayer.push({event:"ScrollDistance",eventCategory:"Scroll Depth",eventAction:"Pixel Depth",eventLabel:f(n),eventValue:1,eventNonInteraction:!0})),h.userTiming&&arguments.length>3&&dataLayer.push({event:"ScrollTiming",eventCategory:"Scroll Depth",eventAction:e,eventLabel:t,eventTiming:l})):(a&&(ga("send","event","Scroll Depth",e,t,1,{nonInteraction:1}),h.pixelDepth&&arguments.length>2&&n>u&&(u=n,ga("send","event","Scroll Depth","Pixel Depth",f(n),1,{nonInteraction:1})),h.userTiming&&arguments.length>3&&ga("send","timing","Scroll Depth",e,l,t)),r&&(_gaq.push(["_trackEvent","Scroll Depth",e,t,1,!0]),h.pixelDepth&&arguments.length>2&&n>u&&(u=n,_gaq.push(["_trackEvent","Scroll Depth","Pixel Depth",f(n),1,!0])),h.userTiming&&arguments.length>3&&_gaq.push(["_trackTiming","Scroll Depth",e,l,t,100])))}function p(e){return{"25%":parseInt(.25*e,10),"50%":parseInt(.5*e,10),"75%":parseInt(.75*e,10),"100%":e-5}}function s(t,n,a){e.each(t,function(t,r){-1===e.inArray(t,c)&&n>=r&&(g("Percentage",t,n,a),c.push(t))})}function v(t,n,a){e.each(t,function(t,r){-1===e.inArray(r,c)&&e(r).length&&(h.trackHidden||e(r).is(":visible"))&&n>=e(r).offset().top&&(g("Elements",e(r).attr("data-ga_event_label")||r,n,a),c.push(r))})}function f(e){return(250*Math.floor(e/250)).toString()}function m(e,t){var n,a,r,i=null,l=0,o=function(){l=new Date,i=null,r=e.apply(n,a)};return function(){var c=new Date;l||(l=c);var u=t-(c-l);return n=this,a=arguments,0>=u?(clearTimeout(i),i=null,l=c,r=e.apply(n,a)):i||(i=setTimeout(o,u)),r}}var D=+new Date;h=e.extend({},l,h),e(n).height()<h.minHeight||("function"==typeof ga&&(a=!0),"undefined"!=typeof _gaq&&"function"==typeof _gaq.push&&(r=!0),"undefined"!=typeof dataLayer&&"function"==typeof dataLayer.push&&(i=!0),g("Percentage","Baseline"),o.on("scroll.scrollDepth",m(function(){var a=e(n).height(),r=t.innerHeight?t.innerHeight:o.height(),i=o.scrollTop()+r,l=p(a),u=+new Date-D;return c.length>=4+h.elements.length?void o.off("scroll.scrollDepth"):(h.elements&&v(h.elements,i,u),void(h.percentage&&s(l,i,u)))},500)))}}(jQuery,window,document);